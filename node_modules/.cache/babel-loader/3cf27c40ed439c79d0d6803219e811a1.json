{"ast":null,"code":"var _jsxFileName = \"/Users/d1ak8m5/gitprojects/shopping-cart-1/src/App.js\";\nimport React, { Component } from \"react\";\nimport './App.css';\nimport CartItems from './components/CartItems';\nimport CartHeader from './components/CartHeader';\nimport CartFooter from './components/CartFooter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      products: [],\n      cartItemList: [{\n        id: 1,\n        product: {\n          id: 40,\n          name: 'Mediocre Iron Watch',\n          priceInCents: 399\n        },\n        quantity: 1\n      }, {\n        id: 2,\n        product: {\n          id: 41,\n          name: 'Heavy Duty Concrete Plate',\n          priceInCents: 499\n        },\n        quantity: 2\n      }, {\n        id: 3,\n        product: {\n          id: 42,\n          name: 'Intelligent Paper Knife',\n          priceInCents: 1999\n        },\n        quantity: 1\n      }]\n    };\n    this.total = 0;\n\n    this.getTotal = cart => {\n      /* const total = cart.reduce((pv, cv) => { \n          pv += (parseInt(cv.product.priceInCents) * parseInt(cv.quantity))\n            }, 0);*/\n      var sum = 0;\n\n      for (var i = 0; i < cart.length; i++) {\n        sum += parseInt(cart[i].product.priceInCents) * parseInt(cart[i].quantity);\n      }\n\n      this.total = sum;\n    };\n\n    this.addItemToList = product => {\n      console.log(\"i have received\", product);\n      var check = this.state.cartItemList.some(item => item.product.name == product.product.name);\n\n      if (check) {\n        var newList = this.state.cartItemList;\n        newList.map(item => {\n          if (product.product.name == item.product.name) {\n            console.log(\"i am true\");\n            var newQuantity = parseInt(item.quantity) + parseInt(product.quantity);\n            item.quantity = newQuantity;\n          }\n        });\n        this.setState(prevState => ({\n          cartItemList: prevState.cartItemList = newList\n        }));\n      } else {\n        this.setState(prevState => ({\n          cartItemList: prevState.cartItemList.concat(product)\n        }));\n      }\n\n      this.getTotal(this.state.cartItemList);\n    };\n  }\n\n  async componentDidMount() {\n    const productsResponse = await fetch(\"http://localhost:8082/api/products\");\n    const productsJson = await productsResponse.json();\n    const itemsResponse = await fetch(\"http://localhost:8082/api/items\");\n    const itemsJson = await itemsResponse.json();\n    this.setState({ ...this.state,\n      products: productsJson\n    });\n    itemsJson.map(item => {\n      id = item.id, product = this.state.products.find(item.products_id), quantity = item.quantity;\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(CartHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CartItems, {\n        products: this.state,\n        addItemToList: this.addItemToList,\n        total: this.total\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CartFooter, {\n        copyright: \"2016\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/d1ak8m5/gitprojects/shopping-cart-1/src/App.js"],"names":["React","Component","CartItems","CartHeader","CartFooter","App","state","products","cartItemList","id","product","name","priceInCents","quantity","total","getTotal","cart","sum","i","length","parseInt","addItemToList","console","log","check","some","item","newList","map","newQuantity","setState","prevState","concat","componentDidMount","productsResponse","fetch","productsJson","json","itemsResponse","itemsJson","find","products_id","render"],"mappings":"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","sourcesContent":["\nimport React, { Component } from \"react\";\nimport './App.css';\nimport CartItems from './components/CartItems';\nimport CartHeader from './components/CartHeader';\nimport CartFooter from './components/CartFooter';\n\n\n\nclass App extends Component {\n  state = {\n    products:\n      [\n        \n      ], \n    cartItemList: \n      [\n        { id: 1, product: { id: 40, name: 'Mediocre Iron Watch', priceInCents: 399 }, quantity: 1 },\n        { id: 2, product: { id: 41, name: 'Heavy Duty Concrete Plate', priceInCents: 499 }, quantity: 2 },\n        { id: 3, product: { id: 42, name: 'Intelligent Paper Knife', priceInCents: 1999 }, quantity: 1 }, \n      ]\n  }\n\n  async componentDidMount(){\n    const productsResponse = await fetch(\"http://localhost:8082/api/products\");\n    const productsJson = await productsResponse.json()\n    const itemsResponse = await fetch(\"http://localhost:8082/api/items\")\n    const itemsJson = await itemsResponse.json()\n    this.setState({\n      ...this.state,\n      products: productsJson\n    })\n    itemsJson.map(item => { id = item.id, product = this.state.products.find(item.products_id), quantity = item.quantity   })\n   \n\n  }\n\n total = 0;\n\n  getTotal = (cart) => {\n    /* const total = cart.reduce((pv, cv) => { \n        pv += (parseInt(cv.product.priceInCents) * parseInt(cv.quantity))\n          }, 0);*/\n      var sum = 0;\n      for(var i = 0; i < cart.length; i++){\n        sum += parseInt(cart[i].product.priceInCents) * parseInt(cart[i].quantity)\n        \n      }\n\n       this.total = sum;\n\n  }\n\n  addItemToList = (product) => {\n      console.log(\"i have received\", product)\n      var check = this.state.cartItemList.some(item => item.product.name == product.product.name)\n      \n      if(check){\n        var newList = this.state.cartItemList\n        newList.map(item =>  {\n          if(product.product.name == item.product.name){\n            console.log(\"i am true\")\n\n           var newQuantity = parseInt(item.quantity) + parseInt(product.quantity)\n           item.quantity = newQuantity\n            \n          } \n        });\n        this.setState(prevState => ({cartItemList: prevState.cartItemList = newList})) \n\n      }else{\n        this.setState(prevState => ({cartItemList: prevState.cartItemList.concat(product)}))\n      }\n\n    this.getTotal(this.state.cartItemList);\n }\n\n  render() {\n    return (\n      <div>\n        <CartHeader />\n        <CartItems products={this.state} addItemToList={this.addItemToList} total={this.total}/>\n        <CartFooter copyright=\"2016\" />\n\n      </div>\n    )\n  };\n\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}